
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Section3.2 Source Watermark Creation Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="section3.html" />
    
    
    <link rel="prev" href="section1.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../INTRODUCTION.html">
            
                <a href="../INTRODUCTION.html">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../chapter1/">
            
                <a href="../chapter1/">
            
                    
                    Chapter1 Streaming 101
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../chapter1/section1.1.html">
            
                <a href="../chapter1/section1.1.html">
            
                    
                    Section1.1 Terminology: What Is Streaming?
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../chapter1/section1.2.html">
            
                <a href="../chapter1/section1.2.html">
            
                    
                    Section1.2 Data Processing Patterns
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../chapter1/summary.html">
            
                <a href="../chapter1/summary.html">
            
                    
                    Summary
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../chapter2/">
            
                <a href="../chapter2/">
            
                    
                    Chapter2 The What, Where,When, and How of Data Processing
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../chapter1/section1.1.html">
            
                <a href="../chapter1/section1.1.html">
            
                    
                    Section2.1 Roadmap
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../chapter2/section1.2.html">
            
                <a href="../chapter2/section1.2.html">
            
                    
                    Section2.2 Batch Foundations: What and Where
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../chapter2/summary0.html">
            
                <a href="../chapter2/summary0.html">
            
                    
                    Going Streaming: When and How
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../chapter2/summary.html">
            
                <a href="../chapter2/summary.html">
            
                    
                    Summary
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="./">
            
                <a href="./">
            
                    
                    Chapter3  Watermarks
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="section1.html">
            
                <a href="section1.html">
            
                    
                    Section3.1 Definition
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.5.2" data-path="section2.html">
            
                <a href="section2.html">
            
                    
                    Section3.2 Source Watermark Creation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="section3.html">
            
                <a href="section3.html">
            
                    
                    Watermark Propagation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="section4.html">
            
                <a href="section4.html">
            
                    
                    Percentile Watermarks
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="section5.html">
            
                <a href="section5.html">
            
                    
                    Processing-Time Watermarks
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6" data-path="section6.html">
            
                <a href="section6.html">
            
                    
                    Case Studies
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7" data-path="section7.html">
            
                <a href="section7.html">
            
                    
                    Watermark Propagation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.8" data-path="summary.md">
            
                <span>
            
                    
                    Summary
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../chapter4/">
            
                <a href="../chapter4/">
            
                    
                    Chapter 4. Advanced Windowing
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../chapter4/section1.html">
            
                <a href="../chapter4/section1.html">
            
                    
                    When/Where: Processing-Time Windows
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../chapter4/section2.html">
            
                <a href="../chapter4/section2.html">
            
                    
                    Where: Session Windows
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../chapter4/section3.html">
            
                <a href="../chapter4/section3.html">
            
                    
                    Where: Custom Windowing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="../chapter4/summary.html">
            
                <a href="../chapter4/summary.html">
            
                    
                    Summary
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../chapter5/">
            
                <a href="../chapter5/">
            
                    
                    Chapter5 Exactly-Once and Side Effects
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../chapter5/section1.html">
            
                <a href="../chapter5/section1.html">
            
                    
                    Why Exactly Once Matters
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../chapter5/section2.html">
            
                <a href="../chapter5/section2.html">
            
                    
                    Accuracy Versus Completeness
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="../chapter5/section3.html">
            
                <a href="../chapter5/section3.html">
            
                    
                    Ensuring Exactly Once in Shuffle
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="../chapter5/section4.html">
            
                <a href="../chapter5/section4.html">
            
                    
                    Addressing Determinism
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5" data-path="../chapter5/section5.html">
            
                <a href="../chapter5/section5.html">
            
                    
                    Performance
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.6" data-path="../chapter5/section6.html">
            
                <a href="../chapter5/section6.html">
            
                    
                    Exactly Once in Sources
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.7" data-path="../chapter5/section7.html">
            
                <a href="../chapter5/section7.html">
            
                    
                    Exactly Once in Sinks
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.8" data-path="../chapter5/section8.html">
            
                <a href="../chapter5/section8.html">
            
                    
                    Use Cases
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.9" data-path="../chapter5/section8.html">
            
                <a href="../chapter5/section8.html">
            
                    
                    Other Systems
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.10" data-path="../chapter5/section9.html">
            
                <a href="../chapter5/section9.html">
            
                    
                    Summary
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../chapter6/">
            
                <a href="../chapter6/">
            
                    
                    Chapter6 Streams and Tables
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../chapter6/section1.html">
            
                <a href="../chapter6/section1.html">
            
                    
                    Stream-and-Table Basics Or: a Special Theory of Stream and Table Relativity
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../chapter6/section2.html">
            
                <a href="../chapter6/section2.html">
            
                    
                    Batch Processing Versus Streams and Tables
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="../chapter6/section3.html">
            
                <a href="../chapter6/section3.html">
            
                    
                    What, Where, When, and How in a Streams and Tables World
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="../chapter6/section4.html">
            
                <a href="../chapter6/section4.html">
            
                    
                    A General Theory of Stream and Table Relativity
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5" data-path="../chapter6/section5.html">
            
                <a href="../chapter6/section5.html">
            
                    
                    Summary
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../chapter7/">
            
                <a href="../chapter7/">
            
                    
                    Chapter 7. The Practicalities of Persistent State
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="../chapter7/section1.html">
            
                <a href="../chapter7/section1.html">
            
                    
                    Motivation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="../chapter7/section2.html">
            
                <a href="../chapter7/section2.html">
            
                    
                    Implicit State
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="../chapter7/section3.html">
            
                <a href="../chapter7/section3.html">
            
                    
                    Generalized State
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4" data-path="../chapter7/section4.html">
            
                <a href="../chapter7/section4.html">
            
                    
                    Summary
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="../chapter8/">
            
                <a href="../chapter8/">
            
                    
                    Chapter 8. Streaming SQL
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="../chapter8/section1.html">
            
                <a href="../chapter8/section1.html">
            
                    
                    What Is Streaming SQL?
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="../chapter8/section2.html">
            
                <a href="../chapter8/section2.html">
            
                    
                    Looking Backward: Stream and Table Biases
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3" data-path="../chapter8/section3.html">
            
                <a href="../chapter8/section3.html">
            
                    
                    Looking Forward: Toward Robust Streaming SQL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4" data-path="../chapter8/section4.html">
            
                <a href="../chapter8/section4.html">
            
                    
                    Summary
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="../chapter9/">
            
                <a href="../chapter9/">
            
                    
                    Chapter 9. Streaming Joins
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1" data-path="../chapter9/section2.html">
            
                <a href="../chapter9/section2.html">
            
                    
                    All Your Joins Are Belong to Streaming
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.2" data-path="../chapter9/section3.html">
            
                <a href="../chapter9/section3.html">
            
                    
                    Unwindowed Joins
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.3" data-path="../chapter9/section4.html">
            
                <a href="../chapter9/section4.html">
            
                    
                    Windowed Joins
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.4" data-path="../chapter9/section5.html">
            
                <a href="../chapter9/section5.html">
            
                    
                    Summary
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="../chapter10/">
            
                <a href="../chapter10/">
            
                    
                    Chapter 10. The Evolution of Large-Scale Data Processing
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1" data-path="../chapter10/section1.html">
            
                <a href="../chapter10/section1.html">
            
                    
                    MapReduce
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.2" data-path="../chapter10/section2.html">
            
                <a href="../chapter10/section2.html">
            
                    
                    Hadoop
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.3" data-path="../chapter10/section3.html">
            
                <a href="../chapter10/section3.html">
            
                    
                    Flume
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.4" data-path="../chapter10/section4.html">
            
                <a href="../chapter10/section4.html">
            
                    
                    Storm
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.5" data-path="../chapter10/section5.html">
            
                <a href="../chapter10/section5.html">
            
                    
                    Spark
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.6" data-path="../chapter10/section6.html">
            
                <a href="../chapter10/section6.html">
            
                    
                    MillWheel
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.7" data-path="../chapter10/section7.html">
            
                <a href="../chapter10/section7.html">
            
                    
                    Kafaka
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.8" data-path="../chapter10/section8.html">
            
                <a href="../chapter10/section8.html">
            
                    
                    CloudDataFlow
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.9" data-path="../chapter10/section9.html">
            
                <a href="../chapter10/section9.html">
            
                    
                    Flink
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.10" data-path="../chapter10/section9.html">
            
                <a href="../chapter10/section9.html">
            
                    
                    Beam
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.11" data-path="../chapter10/section10.html">
            
                <a href="../chapter10/section10.html">
            
                    
                    Summary
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Section3.2 Source Watermark Creation</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h2 id="source-watermark-creation">Source Watermark Creation</h2>
<p>Where do these watermarks come from? To establish a watermark for a data
source, we must assign a logical event timestamp to every message entering
the pipeline from that source. As Chapter 2 informs us, all watermark
creation falls into one of two broad categories: <em>perfect</em> or <em>heuristic</em>. To remind
ourselves about the difference between perfect and heuristic watermarks, let&#x2019;s
look at Figure 3-2, which presents the windowed summation example from
Chapter 2.</p>
<pre><code>1
</code></pre><p><em>Figure 3-2. Windowed summation with perfect (left) and heuristic (right) watermarks</em></p>
<pre><code>00:00 / 00:00
</code></pre><p>Notice that the distinguishing feature is that perfect watermarks ensure that
the watermark accounts for <em>all</em> data, whereas heuristic watermarks admit
some late-data elements.</p>
<p>After the watermark is created as either perfect or heuristic, watermarks
remain so throughout the rest of the pipeline. As to what makes watermark
creation perfect or heuristic, it depends a great deal on the nature of the
source that&#x2019;s being consumed. To see why, let&#x2019;s look at a few examples of
each type of watermark creation.</p>
<h2 id="perfect-watermark-creation">Perfect Watermark Creation</h2>
<p>Perfect watermark creation assigns timestamps to incoming messages in such
a way that the resulting watermark is a <em>strict guarantee</em> that no data with
event times less than the watermark will ever be seen again from this source.
Pipelines using perfect watermark creation never have to deal with late data;
that is, data that arrive after the watermark has advanced past the event times
of newly arriving messages. However, perfect watermark creation requires
perfect knowledge of the input, and thus is impractical for many real-world
distributed input sources. Here are a couple of examples of use cases that can
create perfect watermarks:</p>
<p>Ingress timestamping</p>
<pre><code>A source that assigns ingress times as the event times for data entering the
system can create a perfect watermark. In this case, the source watermark
simply tracks the current processing time as observed by the pipeline.
This is essentially the method that nearly all streaming systems
supporting windowing prior to 2016 used.
Because event times are assigned from a single, monotonically increasing
source (actual processing time), the system thus has perfect knowledge
about which timestamps will come next in the stream of data. As a result,
event-time progress and windowing semantics become vastly easier to
reason about. The downside, of course, is that the watermark has no
correlation to the event times of the data themselves; those event times
were effectively discarded, and the watermark instead merely tracks the
</code></pre><pre><code>progress of data relative to its arrival in the system.
</code></pre><p>Static sets of time-ordered logs</p>
<pre><code>A statically sized input source of time-ordered logs (e.g., an Apache
Kafka topic with a static set of partitions, where each partition of the
source contains monotonically increasing event times) would be
relatively straightforward source atop which to create a perfect
watermark. To do so, the source would simply track the minimum event
time of unprocessed data across the known and static set of source
partitions (i.e., the minimum of the event times of the most recently read
record in each of the partitions).
Similar to the aforementioned ingress timestamps, the system has perfect
knowledge about which timestamps will come next, thanks to the fact that
event times across the static set of partitions are known to increase
monotonically. This is effectively a form of bounded out-of-order
processing; the amount of disorder across the known set of partitions is
bounded by the minimum observed event time among those partitions.
Typically, the only way you can guarantee monotonically increasing
timestamps within partitions is if the timestamps within those partitions
are assigned as data are written to it; for example, by web frontends
logging events directly into Kafka. Though still a limited use case, this is
definitely a much more useful one than ingress timestamping upon arrival
at the data processing system because the watermark tracks meaningful
event times of the underlying data.
</code></pre><h2 id="heuristic-watermark-creation">Heuristic Watermark Creation</h2>
<p>Heuristic watermark creation, on the other hand, creates a watermark that is
merely an <em>estimate</em> that no data with event times less than the watermark will
ever be seen again. Pipelines using heuristic watermark creation might need
to deal with some amount of <em>late data</em>. Late data is any data that arrives after
the watermark has advanced past the event time of this data. Late data is only
possible with heuristic watermark creation. If the heuristic is a reasonably</p>
<pre><code>2
</code></pre><p>good one, the amount of late data might be very small, and the watermark
remains useful as a completion estimate. The system still needs to provide a
way for the user to cope with late data if it&#x2019;s to support use cases requiring
correctness (e.g., things like billing).</p>
<p>For many real-world, distributed input sources, it&#x2019;s computationally or
operationally impractical to construct a perfect watermark, but still possible
to build a highly accurate heuristic watermark by taking advantage of
structural features of the input data source. Following are two example for
which heuristic watermarks (of varying quality) are possible:</p>
<p>Dynamic sets of time-ordered logs</p>
<pre><code>Consider a dynamic set of structured log files (each individual file
containing records with monotonically increasing event times relative to
other records in the same file but with no fixed relationship of event times
between files), where the full set of expected log files (i.e., partitions, in
Kafka parlance) is not known at runtime. Such inputs are often found in
global-scale services constructed and managed by a number of
independent teams. In such a use case, creating a perfect watermark over
the input is intractable, but creating an accurate heuristic watermark is
quite possible.
By tracking the minimum event times of unprocessed data in the existing
set of log files, monitoring growth rates, and utilizing external
information like network topology and bandwidth availability, you can
create a remarkably accurate watermark, even given the lack of perfect
knowledge of all the inputs. This type of input source is one of the most
common types of unbounded datasets found at Google, so we have
extensive experience with creating and analyzing watermark quality for
such scenarios and have seen them used to good effect across a number of
use cases.
</code></pre><p>Google Cloud Pub/Sub</p>
<pre><code>Cloud Pub/Sub is an interesting use case. Pub/Sub currently makes no
guarantees on in-order delivery; even if a single publisher publishes two
messages in order, there&#x2019;s a chance (usually small) that they might be
</code></pre><pre><code>delivered out of order (this is due to the dynamic nature of the underlying
architecture, which allows for transparent scaling up to very high levels
of throughput with zero user intervention). As a result, there&#x2019;s no way to
guarantee a perfect watermark for Cloud Pub/Sub. The Cloud Dataflow
team has, however, built a reasonably accurate heuristic watermark by
taking advantage of what knowledge is available about the data in Cloud
Pub/Sub. The implementation of this heuristic is discussed at length as a
case study later in this chapter.
</code></pre><p>Consider an example where users play a mobile game, and their scores are
sent to our pipeline for processing: you can generally assume that for any
source utilizing mobile devices for input it will be generally impossible to
provide a perfect watermark. Due to the problem of devices that go offline for
extended periods of time, there&#x2019;s just no way to provide any sort of
reasonable estimate of absolute completeness for such a data source. You
can, however, imagine building a watermark that accurately tracks input
completeness for devices that are currently online, similar to the Google
Pub/Sub watermark described a moment ago. Users who are actively online
are likely the most relevant subset of users from the perspective of providing
low-latency results anyway, so this often isn&#x2019;t as much of a shortcoming as
you might initially think.</p>
<p>With heuristic watermark creation, broadly speaking, the more that is known
about the source, the better the heuristic, and the fewer late data items will be
seen. There is no one-size-fits-all solution, given that the types of sources,
distributions of events, and usage patterns will vary greatly. But in either case
(perfect or heuristic), after a watermark is created at the input source, the
system can propagate the watermark through the pipeline perfectly. This
means perfect watermarks will remain perfect downstream, and heuristic
watermarks will remain strictly as heuristic as they were when established.
This is the benefit of the watermark approach: you can reduce the complexity
of tracking completeness in a pipeline entirely to the problem of creating a
watermark at the source.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="section1.html" class="navigation navigation-prev " aria-label="Previous page: Section3.1 Definition">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="section3.html" class="navigation navigation-next " aria-label="Next page: Watermark Propagation">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Section3.2 Source Watermark Creation","level":"1.5.2","depth":2,"next":{"title":"Watermark Propagation","level":"1.5.3","depth":2,"path":"chapter3/section3.md","ref":"chapter3/section3.md","articles":[]},"previous":{"title":"Section3.1 Definition","level":"1.5.1","depth":2,"path":"chapter3/section1.md","ref":"chapter3/section1.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["livereload"],"pluginsConfig":{"livereload":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"chapter3/section2.md","mtime":"2019-10-27T12:54:27.000Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2019-10-03T07:23:23.538Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

